{"version":3,"sources":["lib/create-store.js","lib/middleware.js","data/files.json","data/branches.json","lib/services.js","lib/store.js","lib/view.js","components/filter/filter.js","lib/simple-view.js","components/file-list/file-list.js","components/branch-list/branch-list.js","components/table/table.js","components/tabs/tabs.js","index.js"],"names":["createStore","reducer","initialState","middleware","applyMiddleware","store","dispatchWithMiddleware","getState","dispatch","Object","assign","Error","subscribers","state","isDispatching","action","type","currentSubscribers","forEach","listener","subscribe","filter","l","module","exports","fetchFiles","filesMock","require","files","Promise","resolve","setTimeout","fetchBranches","branchesMock","branches","initState","filesLoading","filesLoaded","branchesLoading","branchesLoaded","activeTab","actionTypes","freeze","SET_FILTER","SET_FILES","SET_FILES_LOADING","SET_BRANCHES","SET_BRANCHES_LOADING","SET_ACTIVE_TAB","payload","setFilter","value","setActiveTab","setFilesLoading","setFiles","setBranchesLoading","setBranches","loadFiles","then","loadBranches","View","el","_el","_store","_isDestroyed","_unsubscribe","_prepareRender","bind","componentDidMount","shouldComponentUpdate","innerHTML","render","Filter","_onInput","addEventListener","event","target","removeEventListener","SimpleView","FileList","renderFiles","name","includes","map","hash","message","committer","time","slice","join","FileListHead","BranchList","renderBranches","BranchListHead","Table","_destroyChildren","head","querySelector","_head","body","_body","destroy","Tabs","tabs","_tabs","_onClick","e","nodeName","trim","tab","window","location","pathname","filterInput","document","tabsElement","tableElement"],"mappings":"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","file":"index.js","sourceRoot":"../src","sourcesContent":["export default function createStore(reducer, initialState, middleware) {\n  if (typeof middleware === 'function') {\n    return applyMiddleware(middleware);\n  }\n\n  function applyMiddleware(middleware) {\n    const store = createStore(reducer, initialState);\n    const dispatchWithMiddleware = middleware({\n      getState: store.getState,\n      dispatch: store.dispatch,\n    });\n    return Object.assign({}, store, {\n      dispatch: dispatchWithMiddleware,\n    });\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Reducer must be a function');\n  }\n\n  let subscribers = [];\n  let state = initialState;\n  let isDispatching = false;\n\n  function dispatch(action) {\n    if (isDispatching) {\n      throw new Error('Reducer may not dispatch actions');\n    }\n\n    if (!action || typeof action !== 'object') {\n      throw new Error('Action must be an object');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Action must have a \"type\" property');\n    }\n\n    try {\n      isDispatching = true;\n      state = reducer(state, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    let currentSubscribers = subscribers;\n    currentSubscribers.forEach(listener => listener());\n  }\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Listener must be a function');\n    }\n\n    subscribers = [...subscribers, listener];\n\n    return function() {\n      subscribers = subscribers.filter(l => l !== listener);\n    };\n  }\n\n  function getState() {\n    return state;\n  }\n\n  const store = {\n    dispatch,\n    subscribe,\n    getState,\n  };\n  return store;\n}\n","export default function middleware({ getState, dispatch }) {\n  return function(action) {\n    if (typeof action === 'function') {\n      return action(dispatch, getState);\n    }\n    return dispatch(action);\n  };\n}\n","module.exports = {\n  \"path\": [],\n  \"filename\": \"arcadia\",\n  \"committer\": \"robot-srch-releaser\",\n  \"fileTabs\": {\n    \"tabs\": [\"Files\", \"Branches\"],\n    \"activeTab\": \"Files\"\n  },\n  \"useFilter\": true,\n  \"files\": [\n    {\n      \"type\": \"dir\",\n      \"name\": \"api\",\n      \"hash\": \"d53dsv\",\n      \"message\": \"[vcs] move http to arc\",\n      \"committer\": \"noxoomo\",\n      \"time\": \"4 s ago\"\n    },\n    {\n      \"type\": \"dir\",\n      \"name\": \"ci\",\n      \"hash\": \"d53dsv\",\n      \"message\": \"ARCADIA-771: append /trunk/arcadia/\",\n      \"committer\": \"annaveronika\",\n      \"time\": \"Yesterday, 14:50\"\n    },\n    {\n      \"type\": \"dir\",\n      \"name\": \"contrib\",\n      \"hash\": \"d53dsv\",\n      \"message\": \"[vcs] move http to arc\",\n      \"committer\": \"noxoomo\",\n      \"time\": \"4 s ago\"\n    },\n    {\n      \"type\": \"file\",\n      \"name\": \"ya.make\",\n      \"hash\": \"d53dsv\",\n      \"message\": \"[vcs] move http to arc\",\n      \"committer\": \"noxoomo\",\n      \"time\": \"4 s ago\"\n    }\n  ]\n}\n;","module.exports = {\n  \"path\": [],\n  \"filename\": \"arcadia\",\n  \"committer\": \"robot-srch-releaser\",\n  \"fileTabs\": {\n    \"tabs\": [\"Files\", \"Branches\"],\n    \"activeTab\": \"Branches\"\n  },\n  \"useFilter\": false,\n  \"branches\": [\n    {\n      \"name\": \"trunk\",\n      \"hash\": \"9748ds893432438dsd823329d923482d\"\n    },\n    {\n      \"name\": \"users/a-aidyn00/my-feature-2\",\n      \"hash\": \"9748ds893432438dsd823329d923482d\"\n    },\n    {\n      \"name\": \"users/a-aidyn00/my-feature-3\",\n      \"hash\": \"9748ds893432438dsd823329d923482d\"\n    },\n    {\n      \"name\": \"users/a-aidyn00/my-feature-4\",\n      \"hash\": \"9748ds893432438dsd823329d923482d\"\n    },\n    {\n      \"name\": \"users/a-aidyn00/my-feature-5\",\n      \"hash\": \"9748ds893432438dsd823329d923482d\"\n    }\n  ]\n}\n;","export function fetchFiles() {\n  const filesMock = require('../data/files.json').files;\n  return new Promise(resolve => setTimeout(() => resolve(filesMock), 2000));\n}\n\nexport function fetchBranches() {\n  const branchesMock = require('../data/branches.json').branches;\n  return new Promise(resolve => setTimeout(() => resolve(branchesMock), 3000));\n}\n","import createStore from './create-store';\nimport middleware from './middleware';\nimport { fetchFiles, fetchBranches } from './services';\n\nconst initState = {\n  filter: '',\n  filesLoading: false,\n  filesLoaded: false,\n  files: [],\n  branchesLoading: false,\n  branchesLoaded: false,\n  branches: [],\n  activeTab: '',\n};\n\nconst actionTypes = Object.freeze({\n  SET_FILTER: 'setFilter',\n  SET_FILES: 'setFiles',\n  SET_FILES_LOADING: 'setFilesLoading',\n  SET_BRANCHES: 'setBranches',\n  SET_BRANCHES_LOADING: 'setBranchesLoading',\n  SET_ACTIVE_TAB: 'setActiveTab',\n});\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case actionTypes.SET_FILTER:\n      return {\n        ...state,\n        filter: action.payload,\n      };\n    case actionTypes.SET_FILES_LOADING:\n      return {\n        ...state,\n        filesLoading: true,\n      };\n    case actionTypes.SET_FILES:\n      return {\n        ...state,\n        filesLoading: false,\n        filesLoaded: true,\n        files: action.payload,\n      };\n    case actionTypes.SET_BRANCHES_LOADING:\n      return {\n        ...state,\n        branchesLoading: true,\n      };\n    case actionTypes.SET_BRANCHES:\n      return {\n        ...state,\n        branchesLoading: false,\n        branchesLoaded: true,\n        branches: action.payload,\n      };\n    case actionTypes.SET_ACTIVE_TAB:\n      return {\n        ...state,\n        activeTab: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(reducer, initState, middleware);\n\nexport function setFilter(value) {\n  return {\n    type: actionTypes.SET_FILTER,\n    payload: value,\n  };\n}\n\nexport function setActiveTab(value) {\n  return {\n    type: actionTypes.SET_ACTIVE_TAB,\n    payload: value,\n  };\n}\n\nexport function setFilesLoading() {\n  return {\n    type: actionTypes.SET_FILES_LOADING,\n  };\n}\n\nexport function setFiles(value) {\n  return {\n    type: actionTypes.SET_FILES,\n    payload: value,\n  };\n}\n\nexport function setBranchesLoading() {\n  return {\n    type: actionTypes.SET_BRANCHES_LOADING,\n  };\n}\n\nexport function setBranches(value) {\n  return {\n    type: actionTypes.SET_BRANCHES,\n    payload: value,\n  };\n}\n\nexport function loadFiles() {\n  return dispatch => {\n    dispatch(setFilesLoading());\n    fetchFiles().then(files => dispatch(setFiles(files)));\n  };\n}\n\nexport function loadBranches() {\n  return dispatch => {\n    dispatch(setBranchesLoading());\n    fetchBranches().then(branches => dispatch(setBranches(branches)));\n  };\n}\n","export default class View {\n  constructor(el, store) {\n    this._el = el;\n    this._store = store;\n    this._isDestroyed = false;\n    this._unsubscribe = store.subscribe(this._prepareRender.bind(this));\n    this._prepareRender();\n\n    if (typeof this.componentDidMount === 'function') {\n      Promise.resolve().then(() => this.componentDidMount());\n    }\n  }\n\n  _prepareRender() {\n    if (this._isDestroyed) {\n      return;\n    }\n\n    const state = this._store.getState();\n\n    if (\n      typeof this.shouldComponentUpdate === 'function' &&\n      !this.shouldComponentUpdate(state)\n    ) {\n      return;\n    }\n\n    this._el.innerHTML = this.render(state);\n  }\n\n  render() {\n    throw new Error('Render should be overridden');\n  }\n\n  destroy() {\n    this._isDestroyed = true;\n    this._el.innerHTML = '';\n    this._unsubscribe();\n  }\n}\n","import { setFilter } from '../../lib/store';\nimport View from '../../lib/view';\n\nexport default class Filter extends View {\n  constructor(el, store) {\n    super(el, store);\n    this._onInput = this._onInput.bind(this);\n    this._el.addEventListener('input', this._onInput);\n  }\n\n  _onInput(event) {\n    this._store.dispatch(setFilter(event.target.value));\n  }\n\n  render() {\n    return '';\n  }\n\n  destroy() {\n    super.destroy();\n    this._el.removeEventListener('input', this._onInput);\n  }\n}\n","export default class SimpleView {\n  constructor(el) {\n    this._el = el;\n    this._prepareRender();\n  }\n\n  _prepareRender() {\n    this._el.innerHTML = this.render();\n  }\n\n  render() {\n    throw new Error('Render should be overridden');\n  }\n\n  destroy() {\n    this._el.innerHTML = '';\n  }\n}\n","import View from '../../lib/view';\nimport SimpleView from '../../lib/simple-view';\nimport { loadFiles } from '../../lib/store';\n\nexport class FileList extends View {\n  componentDidMount() {\n    const { filesLoaded, filesLoading } = this._store.getState();\n    if (!filesLoaded && !filesLoading) {\n      this._store.dispatch(loadFiles());\n    }\n  }\n\n  render({ filter, files, filesLoading }) {\n    if (filesLoading) {\n      return 'Loading...';\n    }\n\n    let renderFiles = files;\n    if (filter) {\n      renderFiles = files.filter(({ name }) => name.includes(filter));\n    }\n    return renderFiles\n      .map(\n        ({ type, name, hash, message, committer, time }) => `\n    <tr class=\"Table-Line Divider\">\n      <td class=\"Table-Col\">\n        <span class=\"FileTypeIcon FileTypeIcon_type_${type}\">\n          ${name}\n        </span>\n      </td>\n      <td class=\"Table-Col\">\n        <a href=\"#\" class=\"CommitHash Link\">${hash}</a>\n      </td>\n      <td class=\"Table-Col\">\n        ${message}\n      </td>\n      <td class=\"Table-Col\">\n        <span class=\"Committer\">\n          <span class=\"Committer-FirstLetter\">\n          ${committer[0]}</span>${committer.slice(1)}\n        </span>\n      </td>\n      <td class=\"Table-LastCol\">\n        ${time}\n      </td>\n    </tr>\n  `\n      )\n      .join('');\n  }\n}\n\nexport class FileListHead extends SimpleView {\n  render() {\n    return `\n    <tr class=\"Table-Head\">\n      <td class=\"Table-Col\">\n        Name\n      </td>\n      <td class=\"Table-Col\">\n        Last commit\n      </td>\n      <td class=\"Table-Col\">\n        Commit message\n      </td>\n      <td class=\"Table-Col\">\n        Committer\n      </td>\n      <td class=\"Table-LastCol\">\n        Updated\n      </td>\n    </tr>`;\n  }\n}\n","import View from '../../lib/view';\nimport SimpleView from '../../lib/simple-view';\nimport { loadBranches } from '../../lib/store';\n\nexport class BranchList extends View {\n  componentDidMount() {\n    const { branchesLoaded, branchesLoading } = this._store.getState();\n    if (!branchesLoaded && !branchesLoading) {\n      this._store.dispatch(loadBranches());\n    }\n  }\n\n  render({ filter, branches, branchesLoading }) {\n    if (branchesLoading) {\n      return 'Loading...';\n    }\n\n    let renderBranches = branches;\n    if (filter) {\n      renderBranches = branches.filter(({ name }) => name.includes(filter));\n    }\n    return renderBranches\n      .map(\n        ({ name, hash }) => `\n    <tr class=\"Table-Line Divider\">\n      <td class=\"Table-Col\">\n        <span class=\"FileTypeIcon FileTypeIcon_type_branch\">\n          ${name}\n        </span>\n      </td>\n      <td class=\"Table-LastCol\">\n        <a href=\"#\" class=\"CommitHash Link\">${hash}</a>\n      </td>\n    </tr>\n    `\n      )\n      .join('');\n  }\n}\n\nexport class BranchListHead extends SimpleView {\n  render() {\n    return `\n    <tr class=\"Table-Head\">\n      <td class=\"Table-Col\">\n        Name\n      </td>\n      <td class=\"Table-LastCol\">\n        Commit hash\n      </td>\n    </tr>`;\n  }\n}\n","import { FileList, FileListHead } from '../file-list/file-list';\nimport { BranchList, BranchListHead } from '../branch-list/branch-list';\n\nexport default class Table {\n  constructor(el, store) {\n    this._el = el;\n    this._store = store;\n    this._unsubscribe = store.subscribe(this._prepareRender.bind(this));\n    this._prepareRender();\n  }\n\n  _prepareRender() {\n    this._destroyChildren();\n\n    const { activeTab } = this._store.getState();\n\n    const head = this._el.querySelector('thead');\n    this._head =\n      activeTab === 'Files'\n        ? new FileListHead(head, this._store)\n        : new BranchListHead(head, this._store);\n    const body = this._el.querySelector('tbody');\n    this._body =\n      activeTab === 'Files'\n        ? new FileList(body, this._store)\n        : new BranchList(body, this._store);\n  }\n\n  _destroyChildren() {\n    if (this._head) {\n      this._head.destroy();\n    }\n    if (this._body) {\n      this._body.destroy();\n    }\n  }\n\n  destroy() {\n    this._destroyChildren();\n    this._unsubscribe();\n  }\n}\n","import View from '../../lib/view';\nimport { setActiveTab } from '../../lib/store';\n\nexport default class Tabs extends View {\n  constructor(el, store, tabs) {\n    super(el, store);\n    this._tabs = tabs;\n    this._onClick = this._onClick.bind(this);\n    this._el.addEventListener('click', this._onClick);\n    this._store.dispatch(setActiveTab(this._tabs[0]));\n  }\n\n  _onClick(e) {\n    if (e.target.nodeName === 'A') {\n      this._store.dispatch(setActiveTab(e.target.innerHTML.trim()));\n    }\n  }\n\n  render({ activeTab }) {\n    if (!this._tabs) {\n      return '';\n    }\n    return this._tabs\n      .map(tab =>\n        tab === activeTab\n          ? `\n    <div class=\"Tabs-Tab Typo-Caps Tabs-Tab_active_true Typo_weight_bold\">\n      ${tab}\n    </div>\n    `\n          : `\n    <div class=\"Tabs-Tab Typo-Caps Typo_weight_bold\">\n      <a href=\"#\" class=\"Tabs-Link Link\">${tab}</a>\n    </div>\n    `\n      )\n      .join('');\n  }\n\n  destroy() {\n    super.destroy();\n    this._el.removeEventListener('click', this._onClick);\n  }\n}\n","import { store } from './lib/store';\nimport Filter from './components/filter/filter';\nimport Table from './components/table/table';\nimport Tabs from './components/tabs/tabs';\n\nif (window.location.pathname === '/files.html') {\n  const filterInput = document.querySelector('.FilterTable');\n  if (filterInput) {\n    new Filter(filterInput, store);\n  }\n\n  const tabsElement = document.querySelector('.Tabs');\n  if (tabsElement) {\n    new Tabs(tabsElement, store, ['Files', 'Branches']);\n  }\n\n  const tableElement = document.querySelector('.Table');\n  if (tableElement) {\n    new Table(tableElement, store);\n  }\n}\n"]}